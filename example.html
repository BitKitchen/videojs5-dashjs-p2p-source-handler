<!DOCTYPE html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Test Player</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width">

  <link rel="stylesheet" href="node_modules/video.js/dist/video-js.css">
  <script src="node_modules/video.js/dist/ie8/videojs-ie8.js"></script>

  <!-- p2p graphs -->
  <script src="http://cdn.streamroot.io/2/scripts/p2pGraph.js"></script>
  <script src="http://cdn.streamroot.io/2/scripts/peerStat.js"></script>
  <!-- graphics dependencies -->
  <script src="http://cdnjs.cloudflare.com/ajax/libs/rickshaw/1.4.6/rickshaw.min.js"> </script>
  <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/rickshaw/1.4.6/rickshaw.min.css">
  <script src="http://cdnjs.cloudflare.com/ajax/libs/d3/3.4.9/d3.min.js"> </script>
</head>

<body>
  <script src="node_modules/video.js/dist/video.js"></script>
  <script src="dist/videojs5-dashjs-p2p-source-handler.js"></script>

  <script>
    var fixture;
    fixture = document.createElement('div');
    fixture.id = 'fixture';
    document.body.appendChild(this.fixture);

    var videoEl = document.createElement('video');
    videoEl.id = 'vid';
    videoEl.setAttribute('controls', '');
    videoEl.setAttribute('width', '600');
    videoEl.setAttribute('height', '300');
    videoEl.className = 'video-js vjs-default-skin';
    fixture.appendChild(videoEl);

    var player = videojs('vid', {
      html5: {
        dash: {
          limitBitrateByPortal: true
        },
        streamroot: {
          p2pConfig: {
            streamrootKey: "a913c6b8-5037-4ed8-9c94-918f70c40320",
            debug: true
          }
        }
      }
    });

    player.ready(function() {
      player.src({
        src: 'http://dash.edgesuite.net/envivio/EnvivioDash3/manifest.mpd',
        type: 'application/dash+xml'
      });
    });
  </script>
</body>

</html>
